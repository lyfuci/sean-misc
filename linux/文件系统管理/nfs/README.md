[toc]

# NFS 简介
网络文件系统（英语：Network File System，缩写作 NFS）是一种分布式文件系统，力求客户端主机可以访问服务器端文件，并且其过程与访问本地存储时一样，它由Sun微系统（已被甲骨文公司收购）开发，于1984年发布[1]。

它基于开放网络运算远程过程调用（ONC RPC）系统：一个开放、标准的RFC系统，任何人或组织都可以依据标准实现它。

# 安装软件
服务端和客户端都需要安装这款软件，服务端主要是提供服务，客户端则主要是为了识别挂载的文件系统

`yum install nfs-utils`

# 配置
## 服务端
1. 安装软件
2. 获得一个文件系统(从标准分区或者逻辑卷来生成都可以)
3. 挂载文件系统，比如挂载的位置是 /I/am/nfs
    > 如果文件系统不是直接挂载到目录，而是要挂载的目录只是文件系统的一个子目录，则客户端感知到的存储空间使用情况是共享的，这可能会让使用的人员产生一些迷惑，所以还是建议每个共享的目录单独挂载文件系统
4. 配置 /etc/exports
    ```txt
    /I/am/nfs 192.168.1.0/24(rw)
    ```
    > 上面这段配置是说把 /I/am/nfs 这个文件系统以读写的形式 分享到 192.168.1.0/24 网段
5. 开启 nfs 服务`systemctl start nfs-server`
    > 可以以 exportfs 来查看共享的 nfs 详情 


## 客户端
### 临时挂载

`mount -t nfs 192.168.1.100:/I/am/nfs /local/path`

### 持久化挂载
在 `/etc/fstab` 下写入如下配置(服务和路径参数需要依据实际情况调整)

192.168.1.100:/I/am/nfs  /local/path  nfs  defaults  0  0

